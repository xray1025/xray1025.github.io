<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"xray1025.github.io","root":"/","scheme":"Mist","version":"8.0.0-rc.5","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}};
  </script>

  <meta name="description" content="1234title: JVMcategories: Javatags: - Java	- JVM    JVM JVM是可运行Java代码的假想计算机，组成部分包括：堆、方法区、栈、本地方法栈和程序计数器。其中，堆和方法区是共享区，栈、本地方法栈和程序计数器是线程私有的。">
<meta property="og:type" content="article">
<meta property="og:title" content="X_ray&#39;s blog">
<meta property="og:url" content="https://xray1025.github.io/2020/09/02/JVM/index.html">
<meta property="og:site_name" content="X_ray&#39;s blog">
<meta property="og:description" content="1234title: JVMcategories: Javatags: - Java	- JVM    JVM JVM是可运行Java代码的假想计算机，组成部分包括：堆、方法区、栈、本地方法栈和程序计数器。其中，堆和方法区是共享区，栈、本地方法栈和程序计数器是线程私有的。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="c:/Users/x/AppData/Roaming/Typora/typora-user-images/image-20200825114823414.png">
<meta property="article:published_time" content="2020-09-02T08:33:01.659Z">
<meta property="article:modified_time" content="2020-09-02T08:36:40.366Z">
<meta property="article:author" content="X_ray">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="c:/Users/x/AppData/Roaming/Typora/typora-user-images/image-20200825114823414.png">


<link rel="canonical" href="https://xray1025.github.io/2020/09/02/JVM/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title> | X_ray's blog</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>


  <a target="_blank" rel="noopener" href="https://github.com/xray1025" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#fff; color:#151513; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>


  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">X_ray's blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">yesterday you said tomorrow</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
          <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#JVM"><span class="nav-number">1.</span> <span class="nav-text">JVM</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E7%BA%BF%E7%A8%8B"><span class="nav-number">1.1.</span> <span class="nav-text">1 线程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-JVM%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F"><span class="nav-number">1.2.</span> <span class="nav-text">2 JVM内存区域</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E7%A8%8B%E5%BA%8F%E8%AE%A1%E6%95%B0%E5%99%A8"><span class="nav-number">1.2.1.</span> <span class="nav-text">2.1 程序计数器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-%E6%A0%88"><span class="nav-number">1.2.2.</span> <span class="nav-text">2.2 栈</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-%E6%9C%AC%E5%9C%B0%E6%96%B9%E6%B3%95%E6%A0%88"><span class="nav-number">1.2.3.</span> <span class="nav-text">2.3 本地方法栈</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-%E5%A0%86"><span class="nav-number">1.2.4.</span> <span class="nav-text">2.4 堆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-%E6%96%B9%E6%B3%95%E5%8C%BA"><span class="nav-number">1.2.5.</span> <span class="nav-text">2.5 方法区</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Java%E8%BF%90%E8%A1%8C%E6%97%B6%E5%86%85%E5%AD%98"><span class="nav-number">1.3.</span> <span class="nav-text">3 Java运行时内存</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-%E6%96%B0%E7%94%9F%E4%BB%A3"><span class="nav-number">1.3.1.</span> <span class="nav-text">3.1 新生代</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-%E8%80%81%E5%B9%B4%E4%BB%A3"><span class="nav-number">1.3.2.</span> <span class="nav-text">3.2 老年代</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-%E6%B0%B8%E4%B9%85%E4%BB%A3"><span class="nav-number">1.3.3.</span> <span class="nav-text">3.3 永久代</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%AE%97%E6%B3%95"><span class="nav-number">1.4.</span> <span class="nav-text">4 垃圾回收算法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-%E5%A6%82%E4%BD%95%E7%A1%AE%E5%AE%9A%E5%9E%83%E5%9C%BE"><span class="nav-number">1.4.1.</span> <span class="nav-text">4.1 如何确定垃圾</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-1-%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0%E6%B3%95"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">4.1.1 引用计数法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-2-%E5%8F%AF%E8%BE%BE%E6%80%A7%E5%88%86%E6%9E%90"><span class="nav-number">1.4.1.2.</span> <span class="nav-text">4.1.2 可达性分析</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-%E6%A0%87%E8%AE%B0%E6%B8%85%E9%99%A4%E7%AE%97%E6%B3%95%EF%BC%88Mark-Sweep%EF%BC%89"><span class="nav-number">1.4.2.</span> <span class="nav-text">4.2 标记清除算法（Mark-Sweep）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-%E5%A4%8D%E5%88%B6%E7%AE%97%E6%B3%95%EF%BC%88copying%EF%BC%89"><span class="nav-number">1.4.3.</span> <span class="nav-text">4.3 复制算法（copying）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-%E6%A0%87%E8%AE%B0%E6%95%B4%E7%90%86%E7%AE%97%E6%B3%95%EF%BC%88Mark-Compact%EF%BC%89"><span class="nav-number">1.4.4.</span> <span class="nav-text">4.4 标记整理算法（Mark-Compact）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5-%E5%88%86%E4%BB%A3%E6%94%B6%E9%9B%86%E7%AE%97%E6%B3%95"><span class="nav-number">1.4.5.</span> <span class="nav-text">4.5 分代收集算法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-Java%E5%9B%9B%E7%A7%8D%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.5.</span> <span class="nav-text">5 Java四种引用类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E5%88%86%E5%8C%BA%E6%94%B6%E9%9B%86%E7%AE%97%E6%B3%95"><span class="nav-number">1.6.</span> <span class="nav-text">6 分区收集算法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8"><span class="nav-number">1.7.</span> <span class="nav-text">7 垃圾收集器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-Serial"><span class="nav-number">1.7.1.</span> <span class="nav-text">7.1 Serial</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-2-ParNew"><span class="nav-number">1.7.2.</span> <span class="nav-text">7.2 ParNew</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-3-Parallel-Scavenge"><span class="nav-number">1.7.3.</span> <span class="nav-text">7.3 Parallel Scavenge</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-4-Serial-Old"><span class="nav-number">1.7.4.</span> <span class="nav-text">7.4 Serial Old</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-5-Parallel-Old"><span class="nav-number">1.7.5.</span> <span class="nav-text">7.5 Parallel Old</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-6-CMS"><span class="nav-number">1.7.6.</span> <span class="nav-text">7.6 CMS</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-6-1-%E5%88%9D%E5%A7%8B%E6%A0%87%E8%AE%B0"><span class="nav-number">1.7.6.1.</span> <span class="nav-text">7.6.1 初始标记</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-6-2-%E5%B9%B6%E5%8F%91%E6%A0%87%E8%AE%B0"><span class="nav-number">1.7.6.2.</span> <span class="nav-text">7.6.2 并发标记</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-6-3-%E9%87%8D%E6%96%B0%E6%A0%87%E8%AE%B0"><span class="nav-number">1.7.6.3.</span> <span class="nav-text">7.6.3 重新标记</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-6-4-%E5%B9%B6%E5%8F%91%E6%B8%85%E9%99%A4"><span class="nav-number">1.7.6.4.</span> <span class="nav-text">7.6.4 并发清除</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-7-G1"><span class="nav-number">1.7.7.</span> <span class="nav-text">7.7 G1</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-IO-NIO"><span class="nav-number">1.8.</span> <span class="nav-text">8 IO&#x2F;NIO</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#8-1-IO%E5%88%86%E7%B1%BB"><span class="nav-number">1.8.1.</span> <span class="nav-text">8.1 IO分类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-1-IO"><span class="nav-number">1.8.1.1.</span> <span class="nav-text">8.1.1 IO</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-2-NIO"><span class="nav-number">1.8.1.2.</span> <span class="nav-text">8.1.2 NIO</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-3-%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8IO"><span class="nav-number">1.8.1.3.</span> <span class="nav-text">8.1.3 多路复用IO</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-4-%E4%BF%A1%E5%8F%B7%E9%A9%B1%E5%8A%A8IO"><span class="nav-number">1.8.1.4.</span> <span class="nav-text">8.1.4 信号驱动IO</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-5-%E5%BC%82%E6%AD%A5IO"><span class="nav-number">1.8.1.5.</span> <span class="nav-text">8.1.5 异步IO</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-2-NIO"><span class="nav-number">1.8.2.</span> <span class="nav-text">8.2 NIO</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-1-IO%E5%8C%85"><span class="nav-number">1.8.2.1.</span> <span class="nav-text">8.2.1 IO包</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-2-NIO"><span class="nav-number">1.8.2.2.</span> <span class="nav-text">8.2.2 NIO</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-3-%E7%BC%93%E5%86%B2%E5%8C%BA"><span class="nav-number">1.8.2.3.</span> <span class="nav-text">8.2.3 缓冲区</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-4-%E9%9D%9E%E9%98%BB%E5%A1%9E"><span class="nav-number">1.8.2.4.</span> <span class="nav-text">8.2.4 非阻塞</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-%E7%B1%BB%E5%8A%A0%E8%BD%BD"><span class="nav-number">1.9.</span> <span class="nav-text">9 类加载</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#9-1-%E6%AD%A5%E9%AA%A4"><span class="nav-number">1.9.1.</span> <span class="nav-text">9.1 步骤</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#9-1-1-%E5%8A%A0%E8%BD%BD"><span class="nav-number">1.9.1.1.</span> <span class="nav-text">9.1.1 加载</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-1-2-%E9%AA%8C%E8%AF%81"><span class="nav-number">1.9.1.2.</span> <span class="nav-text">9.1.2 验证</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-1-3-%E5%87%86%E5%A4%87"><span class="nav-number">1.9.1.3.</span> <span class="nav-text">9.1.3 准备</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-1-4-%E8%A7%A3%E6%9E%90"><span class="nav-number">1.9.1.4.</span> <span class="nav-text">9.1.4 解析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-1-5-%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-number">1.9.1.5.</span> <span class="nav-text">9.1.5 初始化</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-2-%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%A8%A1%E5%9E%8B"><span class="nav-number">1.9.2.</span> <span class="nav-text">9.2 双亲委派模型</span></a></li></ol></li></ol></li></ol></div>
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="X_ray"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">X_ray</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">6</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/xray1025" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;xray1025" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:xray2020@foxmail.com" title="E-Mail → mailto:xray2020@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </section>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">
      

      

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xray1025.github.io/2020/09/02/JVM/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="X_ray">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="X_ray's blog">
    </span>

    
    
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-09-02 16:33:01 / 修改时间：16:36:40" itemprop="dateCreated datePublished" datetime="2020-09-02T16:33:01+08:00">2020-09-02</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">title: JVM</span><br><span class="line">categories: Java</span><br><span class="line"><span class="keyword">tags:</span> - Java</span><br><span class="line">	- JVM</span><br></pre></td></tr></table></figure>



<h1 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h1><ul>
<li>JVM是可运行Java代码的假想计算机，组成部分包括：堆、方法区、栈、本地方法栈和程序计数器。其中，堆和方法区是共享区，栈、本地方法栈和程序计数器是线程私有的。</li>
</ul>
<a id="more"></a>

<ul>
<li>Java运行过程：<ul>
<li>源文件通过编译器编译为.class字节码文件，字节码文件通过JVM中的解释器解释成特定机器上的字节码文件</li>
</ul>
</li>
</ul>
<h2 id="1-线程"><a href="#1-线程" class="headerlink" title="1 线程"></a>1 线程</h2><p><strong>JVM的系统线程主要有：</strong></p>
<ul>
<li>虚拟机栈</li>
<li>周期性任务线程：负责定时器事件（中断），用来调度周期性操作的执行</li>
<li>GC线程：负责JVM中的垃圾回收</li>
<li>编译器线程：在运行时将字节码动态的编译成本地平台相关的机器码</li>
<li>信号分发线程：负责接收发送到JVM的信号并调用适当的JVM方法处理</li>
</ul>
<h2 id="2-JVM内存区域"><a href="#2-JVM内存区域" class="headerlink" title="2 JVM内存区域"></a>2 JVM内存区域</h2><h3 id="2-1-程序计数器"><a href="#2-1-程序计数器" class="headerlink" title="2.1 程序计数器"></a>2.1 程序计数器</h3><ul>
<li>当前线程所执行的字节码的行号指示器，占用内存空间较小，没有规定OutOfMemoryError</li>
</ul>
<h3 id="2-2-栈"><a href="#2-2-栈" class="headerlink" title="2.2 栈"></a>2.2 栈</h3><ul>
<li>描述java方法的内存模型，每个方法在执行的同时都会创建一个栈帧用于存储局部变量表、操作数栈、动态链接、方法出口等信息。每个方法从调用到执行完成的过程，都对应着一个栈帧在虚拟机栈中从入栈到出栈的过程。</li>
<li>栈帧是用来存储数据和部分过程结果的数据结构，同时也被用来处理动态链接、方法返回值和异常分派。</li>
</ul>
<h3 id="2-3-本地方法栈"><a href="#2-3-本地方法栈" class="headerlink" title="2.3 本地方法栈"></a>2.3 本地方法栈</h3><p>为Native方法服务</p>
<h3 id="2-4-堆"><a href="#2-4-堆" class="headerlink" title="2.4 堆"></a>2.4 堆</h3><ul>
<li>线程共享，</li>
<li>创建的对象和数组都保存在Java堆内存中，也是垃圾收集器进行垃圾收集的最重要的内存区域</li>
<li>根据分代收集算法，可以细分为：新生代（Eden、SurvivorFrom、ServivorTo）和老年代</li>
</ul>
<h3 id="2-5-方法区"><a href="#2-5-方法区" class="headerlink" title="2.5 方法区"></a>2.5 方法区</h3><p>即永久代（Permanent Generation），用于储存被Java加载的类信息、常量、静态常量、即时编译器编译后的代码等数据。</p>
<p>运行时常量池（Runtime Constant Pool）是方法区的一部分，负责存放Class文件中的常量池</p>
<h2 id="3-Java运行时内存"><a href="#3-Java运行时内存" class="headerlink" title="3 Java运行时内存"></a>3 Java运行时内存</h2><h3 id="3-1-新生代"><a href="#3-1-新生代" class="headerlink" title="3.1 新生代"></a>3.1 新生代</h3><ul>
<li>用来存放新生的对象，占堆1/3的空间</li>
<li>新生代分为<ul>
<li>Eden区</li>
<li>ServivorFrom</li>
<li>ServivorTo</li>
</ul>
</li>
<li>MinorGC：<ul>
<li>Eden内存不够时触发</li>
<li>频繁执行</li>
<li>采用复制算法</li>
<li>过程：<ul>
<li>将Eden、ServivorFrom复制到Servivor，并将年龄+1（如果年龄达到老年区的标准，则赋值到老年区）</li>
<li>清空Eden、ServivorFrom</li>
<li>将ServivorTo和ServivorFrom互换</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3-2-老年代"><a href="#3-2-老年代" class="headerlink" title="3.2 老年代"></a>3.2 老年代</h3><ul>
<li>主要存放应用程序中生命周期长的内存对象</li>
<li>MajorGC：<ul>
<li>老年代空间不够时触发</li>
<li>不会频繁执行</li>
<li>采用标记清除算法：<ul>
<li>扫描一次所有老年代，标记出存活的的对象，然后回收没有标记的对象</li>
<li>耗时比较长</li>
<li>会产生内存碎片</li>
<li>老年代满时，跑出OOM（out of memory）异常</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3-3-永久代"><a href="#3-3-永久代" class="headerlink" title="3.3 永久代"></a>3.3 永久代</h3><ul>
<li><p>内存的永久保存区域，主要存放Class和Meta的信息</p>
</li>
<li><p>GC不会在主程序运行期对永久代进行清理</p>
</li>
<li><p>Java 8 中，永久代已经被移除，被一个元数据区（元空间）取代</p>
<ul>
<li>元空间并不在虚拟机中，而是使用本地内存</li>
</ul>
</li>
</ul>
<h2 id="4-垃圾回收算法"><a href="#4-垃圾回收算法" class="headerlink" title="4 垃圾回收算法"></a>4 垃圾回收算法</h2><h3 id="4-1-如何确定垃圾"><a href="#4-1-如何确定垃圾" class="headerlink" title="4.1 如何确定垃圾"></a>4.1 如何确定垃圾</h3><h4 id="4-1-1-引用计数法"><a href="#4-1-1-引用计数法" class="headerlink" title="4.1.1 引用计数法"></a>4.1.1 引用计数法</h4><ul>
<li>一个对象如果没有任何与之关联的引用，即它们的引用计数都不为0，则说明对象不太可能再被用到，那么这个对象就是可回收对象</li>
</ul>
<h4 id="4-1-2-可达性分析"><a href="#4-1-2-可达性分析" class="headerlink" title="4.1.2 可达性分析"></a>4.1.2 可达性分析</h4><ul>
<li>为了解决引用计数法的循环引用问题，通过一系列的GC root作为搜索起点，如果在GC root和一个对象之间没有可达路径，则称该对象是不可达的</li>
<li>不可达对象经过两次标记后仍不可达，则为可回收对象</li>
</ul>
<h3 id="4-2-标记清除算法（Mark-Sweep）"><a href="#4-2-标记清除算法（Mark-Sweep）" class="headerlink" title="4.2 标记清除算法（Mark-Sweep）"></a>4.2 标记清除算法（Mark-Sweep）</h3><ul>
<li><strong>标记：</strong>标记处所有需要回收的对象</li>
<li><strong>清除：</strong>回收所有被标记的对象所占用的空间</li>
<li>弊端：内存碎片化严重</li>
</ul>
<h3 id="4-3-复制算法（copying）"><a href="#4-3-复制算法（copying）" class="headerlink" title="4.3 复制算法（copying）"></a>4.3 复制算法（copying）</h3><ul>
<li>按内存容量将内存划分为等大小的两块，每次只使用其中一块，当前内存满后将其尚存活的对象复制到另一块上，把已使用的内存回收</li>
<li>实现简单，内存效率高</li>
<li>可用内存被压缩到一半</li>
<li>存活对象增多时，算法效率大大降低</li>
</ul>
<h3 id="4-4-标记整理算法（Mark-Compact）"><a href="#4-4-标记整理算法（Mark-Compact）" class="headerlink" title="4.4 标记整理算法（Mark-Compact）"></a>4.4 标记整理算法（Mark-Compact）</h3><ul>
<li>标记</li>
<li>将存活对象移向内存的一端，然后清除边界外的对象</li>
</ul>
<h3 id="4-5-分代收集算法"><a href="#4-5-分代收集算法" class="headerlink" title="4.5 分代收集算法"></a>4.5 分代收集算法</h3><ul>
<li>主流收集算法</li>
<li>新生代：每次垃圾回收时都有大量垃圾需要被回收<ul>
<li>复制算法</li>
</ul>
</li>
<li>老年代：每次垃圾回收时只有少量对象需要被回收<ul>
<li>标记整理算法</li>
</ul>
</li>
</ul>
<h2 id="5-Java四种引用类型"><a href="#5-Java四种引用类型" class="headerlink" title="5 Java四种引用类型"></a>5 Java四种引用类型</h2><ul>
<li>强引用<ul>
<li>把一个对象赋值给一个引用变量即是强引用</li>
<li>处于可达状态，不可被回收</li>
<li>容易造成内存泄漏</li>
</ul>
</li>
<li>软引用<ul>
<li>SoftReference类</li>
<li>系统内存不足时即被回收</li>
</ul>
</li>
<li>弱引用<ul>
<li>WeakReference类</li>
<li>只要垃圾回收机制一运行即被回收</li>
</ul>
</li>
<li>虚引用<ul>
<li>PhantomReference类</li>
<li>必须和引用队列联合使用</li>
<li>主要用来跟踪对象呗垃圾回收的状态</li>
</ul>
</li>
</ul>
<h2 id="6-分区收集算法"><a href="#6-分区收集算法" class="headerlink" title="6 分区收集算法"></a>6 分区收集算法</h2><ul>
<li>将整个堆空间划分为连续的不同小区间，每个小区间独立使用，独立回收。</li>
<li>可以控制一次回收多少个小区间，减少一次GC所产生的停顿</li>
</ul>
<h2 id="7-垃圾收集器"><a href="#7-垃圾收集器" class="headerlink" title="7 垃圾收集器"></a>7 垃圾收集器</h2><p>分类：</p>
<ul>
<li><p>新生代：</p>
<ul>
<li>Serial</li>
<li>ParNew</li>
<li>Parallel Scavenge</li>
<li>G1</li>
</ul>
</li>
<li><p>老年代：</p>
<ul>
<li><p>CMS</p>
</li>
<li><p>Serial Old（MSC）</p>
</li>
<li><p>Parallel Old</p>
</li>
<li><p>G1</p>
</li>
</ul>
</li>
</ul>
<h3 id="7-1-Serial"><a href="#7-1-Serial" class="headerlink" title="7.1 Serial"></a>7.1 Serial</h3><ul>
<li>最基本的垃圾收集器</li>
<li>单线程</li>
<li>使用复制算法</li>
<li>收集垃圾过程中需要暂停所有其他的工作线程</li>
<li>简单高效</li>
<li>是java 虚拟机运行在Client 模式下默认的新生代垃圾收集器</li>
</ul>
<h3 id="7-2-ParNew"><a href="#7-2-ParNew" class="headerlink" title="7.2 ParNew"></a>7.2 ParNew</h3><ul>
<li>Serial收集器的多线程版本</li>
<li>使用复制算法</li>
<li>收集垃圾过程中需要暂停所有其他的工作线程</li>
<li>默认开启和CPU 数目相同的线程数</li>
<li>是很多java虚拟机运行在Server 模式下新生代的默认垃圾收集器。</li>
</ul>
<h3 id="7-3-Parallel-Scavenge"><a href="#7-3-Parallel-Scavenge" class="headerlink" title="7.3 Parallel Scavenge"></a>7.3 Parallel Scavenge</h3><ul>
<li>多线程</li>
<li>使用复制算法</li>
<li>重点关注程序到达一个可控制的吞吐量（运行用户代码时间/(运行用户代码时间+垃圾收集时间）</li>
<li>自适应调节策略</li>
</ul>
<h3 id="7-4-Serial-Old"><a href="#7-4-Serial-Old" class="headerlink" title="7.4 Serial Old"></a>7.4 Serial Old</h3><ul>
<li>单线程</li>
<li>标记整理算法</li>
<li>是运行在Client 默认的java 虚拟机默认的年老代垃圾收集器</li>
</ul>
<h3 id="7-5-Parallel-Old"><a href="#7-5-Parallel-Old" class="headerlink" title="7.5 Parallel Old"></a>7.5 Parallel Old</h3><ul>
<li>多线程</li>
<li>标记整理算法</li>
</ul>
<h3 id="7-6-CMS"><a href="#7-6-CMS" class="headerlink" title="7.6 CMS"></a>7.6 CMS</h3><ul>
<li><p>多线程标记清除算法：Concurrent Mark Sweep</p>
</li>
<li><p>主要目标：获取最短垃圾回收停顿时间</p>
</li>
<li><p>多线程</p>
</li>
<li><p>标记清除算法</p>
</li>
</ul>
<h4 id="7-6-1-初始标记"><a href="#7-6-1-初始标记" class="headerlink" title="7.6.1 初始标记"></a>7.6.1 初始标记</h4><ul>
<li>标记GC roots能直接关联的对象</li>
<li>速度快</li>
<li>需要暂停所有的工作进程</li>
</ul>
<h4 id="7-6-2-并发标记"><a href="#7-6-2-并发标记" class="headerlink" title="7.6.2 并发标记"></a>7.6.2 并发标记</h4><ul>
<li>和用户线程一起工作，进行GC roots跟踪</li>
</ul>
<h4 id="7-6-3-重新标记"><a href="#7-6-3-重新标记" class="headerlink" title="7.6.3 重新标记"></a>7.6.3 重新标记</h4><ul>
<li>修正在并发标记期间，因用户程序继续运行而导致标记产生的那一部分对象的标记记录</li>
<li>需要暂停所有的工作线程</li>
</ul>
<h4 id="7-6-4-并发清除"><a href="#7-6-4-并发清除" class="headerlink" title="7.6.4 并发清除"></a>7.6.4 并发清除</h4><ul>
<li>和用户线程一起工作，清除回收对象</li>
<li>不需要暂停工作进程</li>
</ul>
<h3 id="7-7-G1"><a href="#7-7-G1" class="headerlink" title="7.7 G1"></a>7.7 G1</h3><ul>
<li>最先进</li>
<li>Garbage First</li>
<li>标记整理算法，不产生内存碎片</li>
<li>可以非常精确控制停顿时间，在不牺牲吞吐量的前提下，实现低停顿垃圾回收</li>
<li>把堆内存划分为大小固定的几个独立区域，优先回收垃圾最多的区域</li>
<li>回收效率高</li>
</ul>
<h2 id="8-IO-NIO"><a href="#8-IO-NIO" class="headerlink" title="8 IO/NIO"></a>8 IO/NIO</h2><h3 id="8-1-IO分类"><a href="#8-1-IO分类" class="headerlink" title="8.1 IO分类"></a>8.1 IO分类</h3><h4 id="8-1-1-IO"><a href="#8-1-1-IO" class="headerlink" title="8.1.1 IO"></a>8.1.1 IO</h4><ul>
<li>当用户线程发出IO请求之后，内核会去查看数据是否就绪，如果没有就绪就会等待数据就绪，而用户线程就会交出CPU处于阻塞状态。当数据就绪之后，内核就会将数据拷贝到用户线程，并返回结果给用户线程，用户线程才解除block状态。</li>
</ul>
<h4 id="8-1-2-NIO"><a href="#8-1-2-NIO" class="headerlink" title="8.1.2 NIO"></a>8.1.2 NIO</h4><ul>
<li>当用户线程发起一个请求后，并不需要等待，而是马上就得到一个结果。如果结果是error时，它就知道数据还没有准备好，于是它可以再次发送请求。一旦内核中的数据准备就绪，并且又再次收到用户线程的请求，那么它马上就将结果返回给用户线程，然后返回。</li>
<li>在非阻塞IO 模型中，用户线程需要不断地询问内核数据是否就绪，也就说非阻塞IO不会交出CPU，而会一直占用CPU。</li>
</ul>
<h4 id="8-1-3-多路复用IO"><a href="#8-1-3-多路复用IO" class="headerlink" title="8.1.3 多路复用IO"></a>8.1.3 多路复用IO</h4><ul>
<li><p>在多路复用IO模型中，会有一个线程不断去轮询多个socket 的状态，只有当socket 真正有读写事件时，才真正调用实际的IO 读写操作。</p>
</li>
<li><p>因为在多路复用IO 模型中，只需要使用一个线程就可以管理多个socket，系统不需要建立新的进程或者线程，也不必维护这些线程和进程，并且只有在真正有socket 读写事件进行时，才会使用IO资源，所以它大大减少了资源占用。</p>
</li>
<li><p>多路复用IO 为何比非阻塞IO 模型的效率高是因为在非阻塞IO中，不断地询socket 状态时通过用户线程去进行的，而在多路复用IO中，轮询每个socket 状态是内核在进行的，这个效率要比用户线程要高的多。</p>
</li>
<li><p>多路复用IO 模型是通过轮询的方式来检测是否有事件到达，并且对到达的事件逐一进行响应。因此对于多路复用IO 模型来说，一旦事件响应体很大，那么就会导致后续的事件迟迟得不到处理，并且会影响新的事件轮询。</p>
</li>
</ul>
<h4 id="8-1-4-信号驱动IO"><a href="#8-1-4-信号驱动IO" class="headerlink" title="8.1.4 信号驱动IO"></a>8.1.4 信号驱动IO</h4><ul>
<li>在信号驱动IO 模型中，当用户线程发起一个IO 请求操作，会给对应的socket 注一个信号函数，然后用户线程会继续执行，当内核数据就绪时会发送一个信号给用户线程，用户线程接收到信号之后，便在信号函数中调用IO读写操作来进行实际的IO 请求操作。</li>
</ul>
<h4 id="8-1-5-异步IO"><a href="#8-1-5-异步IO" class="headerlink" title="8.1.5 异步IO"></a>8.1.5 异步IO</h4><ul>
<li>当用户线程发起操作请求后，立刻就可以开始去做其它的事。而另一方面，从内核的角度，当它受到一个请求后，它会立刻返回，说明请求已经成功发起，因此不会对用户线程产生任何block。然后，内核会等待数据准备完成，然后将数据拷贝到用户线程，当这一切都完成后，内核会给用户线程发送一个信号，告诉它操作完成了。</li>
</ul>
<h3 id="8-2-NIO"><a href="#8-2-NIO" class="headerlink" title="8.2 NIO"></a>8.2 NIO</h3><h4 id="8-2-1-IO包"><a href="#8-2-1-IO包" class="headerlink" title="8.2.1 IO包"></a>8.2.1 IO包</h4><p>分类：</p>
<ul>
<li>字节流：<ul>
<li>InputStream</li>
<li>OutputStream</li>
</ul>
</li>
<li>字符流：<ul>
<li>Reader</li>
<li>Writer</li>
</ul>
</li>
</ul>
<h4 id="8-2-2-NIO"><a href="#8-2-2-NIO" class="headerlink" title="8.2.2 NIO"></a>8.2.2 NIO</h4><p>核心部分：</p>
<ul>
<li>通道（Channel）：<ul>
<li>提供从文件、网络读取数据的渠道</li>
<li>Channel 是双向的，既可以用来进行读操作，又可以用来进行写操作</li>
<li>Stream 是单向的</li>
<li>分类：<ul>
<li>IO：FileChannel</li>
<li>UDP：DatagramChannel</li>
<li>TCP：SocketChannel（client）/ ServerSocketChannel(server)</li>
</ul>
</li>
</ul>
</li>
<li>缓冲区（Buffer）:<ul>
<li>读取或写入的数据都必须经由Buffer</li>
<li>常用子类：ByteBuffer、IntBuffer、 CharBuffer、 LongBuffer、DoubleBuffer、FloatBuffer、ShortBuffer</li>
</ul>
</li>
<li>选择区（Selector）：<ul>
<li>检测多个注册的通道上是否有事件发生，如果有事件发生，便获取事件然后针对每个事件进行相应的响应处理</li>
<li>用一个单线程就可以管理多个通道</li>
<li>使得只有在连接真正有读写事件发生时，才会调用函数来进行读写，就大大地减少了系统开销</li>
<li>不必为每个连接都创建一个线程，不用去维护多个线程，并且避免了多线程之间的上下文切换导致的开销</li>
</ul>
</li>
</ul>
<p>对比：</p>
<ul>
<li>传统IO基于字节流和字符流进行操作</li>
<li>NIO 基于Channel 和Buffer(缓冲区)进行操作，数据总是从通道读取到缓冲区中，或者从缓冲区写入到通道中</li>
</ul>
<h4 id="8-2-3-缓冲区"><a href="#8-2-3-缓冲区" class="headerlink" title="8.2.3 缓冲区"></a>8.2.3 缓冲区</h4><ul>
<li>Java IO面向流意味着每次从流中读一个或多个字节，直至读取所有字节，它们没被缓存在任何地方。此外，它不能前后移动流中的数据。如果需要前后移动从流中读取的数据，需要先将它缓存到一个缓冲区。</li>
<li>NIO 的缓冲导向方法不同。数据读取到一个它稍后处理的缓冲区，需要时可在缓冲区中前后移动。这就增加了处理过程中的灵活性。</li>
<li>NIO需要检查是否该缓冲区中包含所有您需要处理的数据。而且，需确保当更多的数据读入缓冲区时，不要覆盖缓冲区里尚未处理的数据。</li>
</ul>
<h4 id="8-2-4-非阻塞"><a href="#8-2-4-非阻塞" class="headerlink" title="8.2.4 非阻塞"></a>8.2.4 非阻塞</h4><ul>
<li>IO 的各种流是阻塞的。这意味着，当一个线程调用read() 或 write()时，该线程阻塞，直到有一些数据被读取，或数据完全写入。该线程在此期间不能再干任何事情。</li>
<li>NIO 的非阻塞模式，使一个线程从某通道发送请求读取数据，但是它仅能得到目前可用的数据，如果目前没有数据可用时，就什么都不会获取，而不是保持线程阻塞，所以直至数据变的可以读取之前，该线程可以继续做其他的事情。 </li>
<li>非阻塞写也是如此。一个线程请求写入一些数据到某通道，但不需要等待它完全写入，这个线程同时可以去做别的事情。</li>
<li>线程通常将非阻塞IO的空闲时间用于在其它通道上执行IO操作，所以一个单独的线程现在可以管理多个输入和输出通道（channel）。</li>
</ul>
<h2 id="9-类加载"><a href="#9-类加载" class="headerlink" title="9 类加载"></a>9 类加载</h2><h3 id="9-1-步骤"><a href="#9-1-步骤" class="headerlink" title="9.1 步骤"></a>9.1 步骤</h3><h4 id="9-1-1-加载"><a href="#9-1-1-加载" class="headerlink" title="9.1.1 加载"></a>9.1.1 加载</h4><ul>
<li>会在内存中生成一个代表这个类的java.lang.Class对象，作为方法区这个类的各种数据的入口。</li>
</ul>
<h4 id="9-1-2-验证"><a href="#9-1-2-验证" class="headerlink" title="9.1.2 验证"></a>9.1.2 验证</h4><ul>
<li>为了确保Class 文件的字节流中包含的信息是否符合当前虚拟机的要求，并且不会危害虚拟机自身的安全。</li>
</ul>
<h4 id="9-1-3-准备"><a href="#9-1-3-准备" class="headerlink" title="9.1.3 准备"></a>9.1.3 准备</h4><ul>
<li>正式为类变量分配内存并设置类变量的初始值阶段，即在方法区中分配这些变量所使用的内存空间。</li>
</ul>
<h4 id="9-1-4-解析"><a href="#9-1-4-解析" class="headerlink" title="9.1.4 解析"></a>9.1.4 解析</h4><ul>
<li><p>虚拟机将常量池中的符号引用替换为直接引用的过程。</p>
</li>
<li><p>符号引用：引用的目标并不一定要已经加载到内存中。各种虚拟机实现的内存布局可以各不相同</p>
</li>
<li><p>直接引用：直接引用可以是指向目标的指针，相对偏移量或是一个能间接定位到目标的句柄。如果有了直接引用，那引用的目标必定已经在内存中存在。</p>
</li>
</ul>
<h4 id="9-1-5-初始化"><a href="#9-1-5-初始化" class="headerlink" title="9.1.5 初始化"></a>9.1.5 初始化</h4><ul>
<li>执行类中定义的Java 程序代码。</li>
</ul>
<h3 id="9-2-双亲委派模型"><a href="#9-2-双亲委派模型" class="headerlink" title="9.2 双亲委派模型"></a>9.2 双亲委派模型</h3><ul>
<li><p>当一个类收到了类加载请求，他首先不会尝试自己去加载这个类，而是把这个请求委派给父类去完成，每一个层次类加载器都是如此，因此所有的加载请求都应该传送到启动类加载其中，只有当父类加载器反馈自己无法完成这个请求的时候（在它的加载路径下没有找到所需加载的Class），子类加载器才会尝试自己去加载。</p>
</li>
<li><p>使用不同的类加载器最终得到的都是同样一个Object 对象</p>
</li>
</ul>
<p><img src="C:\Users\x\AppData\Roaming\Typora\typora-user-images\image-20200825114823414.png" alt="image-20200825114823414"></p>

    </div>

    
    
    

    <footer class="post-footer">
          

  <div class="followme">
    <span>欢迎关注我的其它发布渠道</span>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="/images/wechat_channel.jpg">
            <span class="icon">
              <i class="fab fa-weixin"></i>
            </span>

            <span class="label">WeChat</span>
          </a>
        </div>
    </div>
  </div>


        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/09/02/redis/" rel="prev" title="">
                  <i class="fa fa-chevron-left"></i> 
                </a>
            </div>
            <div class="post-nav-item">
            </div>
          </div>
    </footer>
  </article>
  
  
  



      

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">X_ray</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script size="300" alpha="0.6" zIndex="-1" src="//cdn.jsdelivr.net/npm/ribbon.js@1.0.2/dist/ribbon.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  















  








  

  

  
  <script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
  
</body>
</html>
